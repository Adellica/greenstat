<!DOCTYPE html>
<html>
  <head>
    <style>
     #map {
         height: 100%;
     }
     html, body, #map-wrapper {
         height: 100%;
         margin: 0;
         padding: 0;
     }
     #map-overlay { position: absolute; top: 10px; left: 10px; z-index: 99; }
    </style>
  </head>

  <body>

    <div id="map-wrapper">
      <div id="map"></div>
      <div id="map-overlay">
        <div style="margin-bottom: 10px;">
          <a href="greenstat.no">
            <img src="greenstat-hvit.png" style="width: 128px;" />
          </a>
        </div>
        <div>
          <input type="text" placeholder="Prodkost (kr/kg Hâ‚‚)" style="width: 128px;" />
        </div>

        <div>
          <select>
            <option  value="500">500 kg</option>
            <option value="1000">1000 kg</option>
            <option value="1500">1500 kg</option>
            <option value="2000">2000 kg</option>
          </select>
        </div>
      </div>
    </div>

    <script>
     var citymap = {
         chicago: {
             center: {lat: 41.878, lng: -87.629},
             population: 2714856
         },
         newyork: {
             center: {lat: 40.714, lng: -74.005},
             population: 8405837
         },
         losangeles: {
             center: {lat: 34.052, lng: -118.243},
             population: 3857799
         },
         vancouver: {
             center: {lat: 49.25, lng: -123.1},
             population: 603502
         }
     };

     function initMap() {
         var pos = new google.maps.LatLng({lat: 66.8180072997799, lng: 13.951091766357422});

         var map = new google.maps.Map(document.getElementById('map'), {
             zoom: 7,
             center: pos,
             mapTypeId: 'roadmap',
             scaleControl: true,
             mapTypeControl: false, // leave room for our map-overlay
         });

         var marker = new google.maps.Marker({
             map: map,
             position: pos,
             title: 'nothing',
         });

         var createCircle = function (km) {
             var gradient = Math.floor(255 * Math.min(km / 200.0, 1));
             var gradientHex = Number(gradient).toString(16);
             gradientHex = gradientHex.length <= 1 ? '0' + gradientHex : gradientHex;
             var color = '#0000' + gradientHex;
             console.log('color', color);
             return new google.maps.Circle({
                 map: map,
                 center: pos,
                 radius: km * 1000,
                 fillOpacity: 0.0,
                 strokeColor: color,
                 clickable: false,
             });
         }

         var cs = [50, 100, 150, 200].map(createCircle);

         map.addListener('click', function(evt) {
             console.log('click', evt, 'marker', marker);
             marker.setPosition(evt.latLng);
             cs.forEach(function(circle) {
                 circle.setCenter(marker.getPosition());
             });
         });

         window.cs = cs;

         // export for poor man's repl
         window.marker = marker;
         window.map = map;
     }

    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCc4r-qzNh9XGAOCrljj2sZokV8G3Y1naA&callback=initMap">
    </script>
  </body>
</html>
